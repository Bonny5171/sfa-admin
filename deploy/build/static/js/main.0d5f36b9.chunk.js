(this["webpackJsonpsfa-admin"]=this["webpackJsonpsfa-admin"]||[]).push([[0],{354:function(e,t,a){e.exports=a(620)},359:function(e,t,a){},620:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),i=(a(359),a(699)),l=a(698),s=a(87),d=a(57),u=a(362),m=a(55),f="https://api-dot-evmdsfa-snd.appspot.com:443/account/job_log_execution",b=u.a.fetchJson,g={user:{authenticated:!0,token:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdGsiOiIwMEQzaDAwMDAwNTdZSzEhQVFVQVFJOEI3YUlKdEdSOHRfVUF3d2tLTnA2Wk5INkFKTjU0cVM3ZEJRTk1OYml5ZUVQanl6N0x5THBJcmlPOTBNeVVDdWVoYW1QM3h2UjFfXzZicDgwTFo3T1hIdWhJIiwiY2lkIjoiM01WRzlLaXA0SUtBWlFFVnZUSmdEZ0I2eW9fZ2gwVkxnLmI5OXE1RjkzMjR1RzZUR3JIM05WRmMuYnRzVUQzVUlIa013SVF1VHNKOWlQanFtTEZzbyIsIm9pZCI6IjAwRDNoMDAwMDA1N1lLMUVBTSIsInRpZCI6MTMsInVpZCI6IjAwNTNoMDAwMDAyWmNvc0FBQyJ9.1FauR3sF4H6gfx0eNlxYkwZwpdbvPJwwIuTQ6Vp3Xz8"}},O="account",E={getList:function(e,t){var a={},n="";Object.keys(t.filter).forEach((function(e){var r,c=e.split("@"),o=2===c.length?c[1]:"like";if(r=o.includes("like")?t.filter[e].trim().split(" "):[t.filter[e]],"stack"===e)O=r;else if("created_at@lte"===e||"created_at@gte"===e){n+="&and=(FIELD.FILTER.VALUE)".replace("FIELD",c[0]).replace("FILTER",c[1]).replace("VALUE",escape(r))}else r.forEach((function(e){var t=o.includes("like")?"".concat(o,".*").concat(e,"*"):"".concat(o,".").concat(e);void 0===a[c[0]]?a[c[0]]=t:Array.isArray(a[c[0]])?a[c[0]].push(t):a[c[0]]=[a[c[0]],t]}))})),console.log("filter:",a);var r=t.pagination,c=r.page,o=r.perPage,i=t.sort,l=i.field,s=i.order,u=Object(d.a)({order:"".concat(l,".").concat(s.toLowerCase()),offset:(c-1)*o,limit:o},a);O&&(f=f.replace("/account/","/".concat(O,"/")).replace("/product/","/".concat(O,"/")).replace("/setup/","/".concat(O,"/")).replace("/order/","/".concat(O,"/")).replace("/resource/","/".concat(O,"/")));var E="".concat(f,"?").concat(Object(m.stringify)(u)).concat(n);return console.log("filter: ",E),b(E,g).then((function(e){var t=e.headers;return{data:e.json,total:parseInt(t.get("content-range").split("/").pop(),10)}}))},getOne:function(e,t){return b("".concat(f,"/").concat(e,"/").concat(t.id)).then((function(e){return{data:e.json}}))},getMany:function(e,t){var a={filter:JSON.stringify({id:t.ids})},n="".concat(f,"/").concat(e,"?").concat(Object(m.stringify)(a));return b(n).then((function(e){return{data:e.json}}))},getManyReference:function(e,t){var a=t.pagination,n=a.page,r=a.perPage,c=t.sort,o=c.field,i=c.order,l={sort:JSON.stringify([o,i]),range:JSON.stringify([(n-1)*r,n*r-1]),filter:JSON.stringify(Object(d.a)(Object(d.a)({},t.filter),{},Object(s.a)({},t.target,t.id)))},u="".concat(f,"/").concat(e,"?").concat(Object(m.stringify)(l));return b(u).then((function(e){var t=e.headers;return{data:e.json,total:parseInt(t.get("content-range").split("/").pop(),10)}}))},update:function(e,t){return b("".concat(f,"/").concat(e,"/").concat(t.id),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},updateMany:function(e,t){var a={filter:JSON.stringify({id:t.ids})};return b("".concat(f,"/").concat(e,"?").concat(Object(m.stringify)(a)),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},create:function(e,t){return b("".concat(f,"/").concat(e),{method:"POST",body:JSON.stringify(t.data)}).then((function(e){var a=e.json;return{data:Object(d.a)(Object(d.a)({},t.data),{},{id:a.id})}}))},delete:function(e,t){return b("".concat(f,"/").concat(e,"/").concat(t.id),{method:"DELETE"}).then((function(e){return{data:e.json}}))},deleteMany:function(e,t){var a={filter:JSON.stringify({id:t.ids})};return b("".concat(f,"/").concat(e,"?").concat(Object(m.stringify)(a)),{method:"DELETE",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))}},p=a(700),j=a(701),h=a(696),I=a(697),v=a(708),y=a(318),S=a(34),w=a(621),k=a(675),M=a(676),_=a(677),J=a(678),N=a(679),T=a(680),V=a(685),D=a(702),P=a(65),R=a(673),F=a(283),L=a.n(F),A=a(285),U=a.n(A),W=a(286),Z=a.n(W),z=a(284),x=a.n(z),C=a(282),B=a.n(C),Q=a(78),Y=a(190),H=a(703),X=Object(R.a)((function(e){var t;return{root:(t={},Object(s.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(s.a)(t,e.breakpoints.down("sm"),{display:"none"}),t),listItem:{paddingLeft:"2em"},listItemText:{margin:0}}})),K=function(e){var t=e.label,a=e.icon,r=Object(Y.a)();return n.createElement(D.a,{mt:2,display:"flex",alignItems:"center"},n.createElement(D.a,{mr:1},n.createElement(a,null)),n.createElement(P.a,{variant:"overline"},r(t)))},G=function(e){var t=e.filterValues,a=e.setFilters,r=X(e),c=Object(Y.a)();console.log("filterValues",t);var o=function(e){console.log("filter:",Object(d.a)(Object(d.a)({},t),e)),a(Object(d.a)(Object(d.a)({},t),e))},i=function(e){o({job_faktory_id:e.target?e.target.value:void 0})},l=function(e){var a=e.label,i=e.value,l=Object.keys(i).reduce((function(e,a){return e&&i[a]==t[a]}),!0),s=function(){if(l){var e=Object.keys(i).reduce((function(e,t){return e[t]=void 0,e}),{});o(e)}else o(i)};return n.createElement(w.a,{button:!0,onClick:s,selected:l,className:r.listItem},n.createElement(k.a,{primary:c(a),className:r.listItemText}),l&&n.createElement(M.a,null,n.createElement(_.a,{size:"small",onClick:s},n.createElement(B.a,null))))};return n.createElement(J.a,{className:r.root},n.createElement(N.a,null,n.createElement(Q.b,{onSubmit:function(){},initialValues:t},(function(e){e.handleSubmit;return n.createElement(H.a,{resettable:!0,helperText:!1,source:"job_faktory_id",label:"Procurar",InputProps:{endAdornment:n.createElement(T.a,{position:"end"},n.createElement(L.a,{color:"disabled"}))},onChange:i})})),n.createElement(K,{icon:x.a,label:"Stack"}),n.createElement(V.a,{dense:!0,disablePadding:!0},[{id:"account",name:"Clientes"},{id:"product",name:"Produtos"},{id:"setup",name:"Configura\xe7\xf5es"},{id:"order",name:"Pedidos"},{id:"resource",name:"M\xeddias"}].map((function(e){return n.createElement(l,{value:{stack:e.id},label:e.name,key:e.id})}))),n.createElement(K,{icon:U.a,label:"Per\xedodo"}),n.createElement(V.a,{dense:!0,disablePadding:!0},n.createElement(l,{value:{"created_at@gte":void 0,"created_at@lte":Object(S.subMonths)(Object(S.startOfMonth)(new Date),1).toISOString()},label:"Mais cedo"}),n.createElement(l,{value:{"created_at@gte":Object(S.endOfYesterday)().toISOString()},label:"Hoje"}),n.createElement(l,{value:{"created_at@gte":Object(S.startOfWeek)(new Date).toISOString()},label:"Esta semana"}),n.createElement(l,{value:{"created_at@gte":Object(S.subWeeks)(Object(S.startOfWeek)(new Date),1).toISOString(),"created_at@lte":Object(S.startOfWeek)(new Date).toISOString()},label:"Semana Anterior"}),n.createElement(l,{value:{"created_at@gte":Object(S.startOfMonth)(new Date).toISOString()},label:"Este m\xeas"}),n.createElement(l,{value:{"created_at@gte":Object(S.subMonths)(Object(S.startOfMonth)(new Date),1).toISOString(),"created_at@lte":Object(S.startOfMonth)(new Date).toISOString()},label:"M\xeas passado"})),n.createElement(K,{icon:Z.a,label:"Status"}),n.createElement(V.a,{dense:!0,disablePadding:!0},[{id:"success",name:"Sucesso"},{id:"error",name:"Erro"},{id:"overrided",name:"Overrided"}].map((function(e){return n.createElement(l,{value:{status_name:e.id},label:e.name,key:e.id})})))))},$=function(e){return n.createElement(p.a,Object.assign({},e,{title:"Logs",aside:n.createElement(G,null),perPage:5,pagination:n.createElement(y.a,Object.assign({rowsPerPageOptions:[5,10,15,20,40,100]},e)),filterDefaultValues:{stack:"account","created_at@gte":Object(S.subMonths)(Object(S.startOfMonth)(new Date),1).toISOString(),"created_at@lte":Object(S.startOfMonth)(new Date).toISOString()}}),n.createElement(j.a,null,n.createElement(h.a,{source:"id"}),n.createElement(I.a,{source:"created_at",locales:"pt-BR",showTime:!0}),n.createElement(I.a,{source:"updated_at",locales:"pt-BR",showTime:!0}),n.createElement(h.a,{source:"job_faktory_id"}),n.createElement(h.a,{source:"job_scheduler_name"}),n.createElement(v.a,{source:"status_name"})))},q=function(){return n.createElement(i.a,{dataProvider:E},n.createElement(l.a,{name:"Job Log Execution",list:$}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[354,1,2]]]);
//# sourceMappingURL=main.0d5f36b9.chunk.js.map